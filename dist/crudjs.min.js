function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _wrapNativeSuper(e){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(a){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(a);if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){function t(){}var n=0;return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,l=!0,r=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return l=e.done,e},e:function(e){r=!0,i=e},f:function(){try{l||null==a.return||a.return()}finally{if(r)throw i}}}}function createElement(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function resetElementHTML(e){e.innerHTML=""}function isHidden(e){return"none"===e.style.display}function _hide(e){e.style.display="none"}function show(e){e.style.display=""}var LANGUAGES={en:{basic:{yes:"Yes",no:"No",ok:"OK",cancel:"Cancel",error:"Error",warning:"Warning",info:"Info"},component:{configurationError:"Incorrect configuration. Please read the README of the project to correct your configuration.",urlError:"An error occured while trying to fetch resource. See:"},request:{alreadySaved:"Already up to date",badResponse:"Bad response",okResponse:"Saving done",addImpossible:"Could not add the line:",modifyImpossible:"Could not modify the line:",deleteImpossible:"Could not delete the line:"},table:{column:{actionName:"Action(s)"},modal:{delete:{title:"Warning!",message:"Are you sure you want to delete this line?"}}},line:{btn:{edit:"Edit",delete:"Delete",validate:"Validate",cancel:"Cancel",add:"Add",addCancel:"Reset",example:{toggler:"Examples",copy:"Copy",hide:"Hide"}},messages:{invalidColumn:"Invalid column:"}},field:{selectChips:{select:"Select..."}}},fr:{basic:{yes:"Oui",no:"Non",ok:"OK",cancel:"Annuler",error:"Erreur",warning:"Attention",info:"Info"},component:{configurationError:"Configuration incorrect. Veuillez lire le README du projet pour corriger votre configuration.",urlError:"Une erreur est survenue en essayant d'atteindre la resource. Voyez :"},request:{alreadySaved:"Déjà à jour",badResponse:"Mauvaise réponse",okResponse:"Sauvegarde effectuée",addImpossible:"Impossible d'ajouter la ligne :",modifyImpossible:"Impossible de modifier la ligne :",deleteImpossible:"Impossible de supprimer la ligne :"},table:{column:{actionName:"Action(s)"},modal:{delete:{title:"Attention!",message:"Voulez-vous vraiment supprimer cette ligne ?"}}},line:{btn:{edit:"Editer",delete:"Supprimer",validate:"Valider",cancel:"Annuler",add:"Ajouter",addCancel:"Réinitialiser",example:{toggler:"Exemples",copy:"Copier",hide:"Cacher"}},messages:{invalidColumn:"Colonne invalide :"}},field:{selectChips:{select:"Sélectionner..."}}}},DEFAULT_LANG="en";function langExist(e){return null!=e&&null!=LANGUAGES[e]}function _text(e,t){if(langExist(e)){var n=t.split(".");if(null!=t&&t.length<1)throw new Error("Invalid text request.");var a,i=LANGUAGES[e],l=_createForOfIteratorHelper(n);try{for(l.s();!(a=l.n()).done;){if(null==(i=i[a.value]))throw new Error("Invalid text request.")}}catch(e){l.e(e)}finally{l.f()}return i}throw new Error("Language not found.")}var FIELD_STATE=Object.freeze({VIEW:1,EDIT:2}),FIELD_CSS_CLASS="align-middle",CrudField=function(){function a(e,t,n){if(_classCallCheck(this,a),(this instanceof a?this.constructor:void 0)===a)throw new TypeError("Cannot construct CrudField instance directly.");0<arguments.length&&(this._value=e,this._columnDesc=t,this._crud=n,this._element=a.createElement()),this._state=FIELD_STATE.VIEW}return _createClass(a,null,[{key:"createElement",value:function(){var e=document.createElement("td");return e.className=FIELD_CSS_CLASS,e}}]),_createClass(a,[{key:"update",value:function(){switch(resetElementHTML(this.element),this.state){case FIELD_STATE.VIEW:""!=this.element.getAttribute("title")&&this.element.setAttribute("title",""),this._buildDisplayView();break;case FIELD_STATE.EDIT:0<this.helpText.length&&this.element.setAttribute("title",this.helpText),this._buildEditView()}}},{key:"showDisplayView",value:function(){this.state=FIELD_STATE.VIEW,this.update()}},{key:"showEditView",value:function(){this.state=FIELD_STATE.EDIT,this.update()}},{key:"validate",value:function(){return this.value=this.newValue,this.value}},{key:"isValid",value:function(){var e=this.newValue;return null!=e&&(this._checkField(e)&&(null==this.columnDesc.options||null==this.columnDesc.options.validators||this._checkValidators(e,this.columnDesc.options.validators)))}},{key:"_checkValidators",value:function(){throw new Error("Method not implemented.")}},{key:"_checkField",value:function(){throw new Error("Method not implemented.")}},{key:"_buildDisplayView",value:function(){throw new Error("Method not implemented.")}},{key:"_buildEditView",value:function(){throw new Error("Method not implemented.")}},{key:"element",get:function(){return this._element}},{key:"columnDesc",get:function(){return this._columnDesc}},{key:"helpText",get:function(){return null!=this.columnDesc.options&&null!=this.columnDesc.options.helpText&&"string"==typeof this.columnDesc.options.helpText?this.columnDesc.options.helpText:""}},{key:"crud",get:function(){return this._crud}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"value",get:function(){return null==this._value?this.defaultValue:this._value},set:function(e){this._value=e}},{key:"edit",get:function(){return this.state===FIELD_STATE.EDIT}},{key:"defaultValue",get:function(){throw new Error("Method not implemented.")}},{key:"newValue",get:function(){throw new Error("Method not implemented.")}}]),a}(),CrudFieldDecorator=function(){_inherits(a,CrudField);var n=_createSuper(a);function a(e){var t;return _classCallCheck(this,a),(t=n.call(this)).__customCrudField=e,t.element.className.includes(FIELD_CSS_CLASS)||(t.element.className+=" ".concat(FIELD_CSS_CLASS)),t}return _createClass(a,[{key:"_buildDisplayView",value:function(){this.__customCrudField.buildDisplayView()}},{key:"_buildEditView",value:function(){this.__customCrudField.buildEditView()}},{key:"_checkValidators",value:function(e,t){if(null!=this.__customCrudField.checkValidators)return this.__customCrudField.checkValidators(e,t);throw new Error("Custom field need checkValidators function.")}},{key:"_checkField",value:function(e){return this.__customCrudField.checkField(e)}},{key:"element",get:function(){return this.__customCrudField.element}},{key:"columnDesc",get:function(){return this.__customCrudField.columnDesc}},{key:"value",get:function(){return null==this.__customCrudField.value?this.__customCrudField.getDefaultValue():this.__customCrudField.value},set:function(e){this.__customCrudField.value=e}},{key:"defaultValue",get:function(){return this.__customCrudField.getDefaultValue()}},{key:"newValue",get:function(){return this.edit?this.__customCrudField.getNewValue():this.value}}]),a}(),IntCrudField=function(){_inherits(i,CrudField);var a=_createSuper(i);function i(e,t,n){return _classCallCheck(this,i),a.call(this,e,t,n)}return _createClass(i,[{key:"_buildDisplayView",value:function(){this.element.innerHTML=this.value}},{key:"_buildEditView",value:function(){this.element.innerHTML='<input type="number" class="form-control m-0" placeholder="'.concat(this.columnDesc.name,'" value="').concat(this.value,'" style="background-image:linear-gradient(0deg,#1e99d6 2px,rgba(0,150,136,0) 0),linear-gradient(0deg,rgba(0,0,0,.26) 1px,transparent 0);width:60px;">')}},{key:"_checkValidators",value:function(e,t){return!(null!=t.min&&e<t.min||null!=t.max&&e>t.max)}},{key:"_checkField",value:function(e){return Number.isInteger(e)}},{key:"defaultValue",get:function(){return 0}},{key:"newValue",get:function(){if(this.edit){var e=this.element.getElementsByTagName("input")[0].value;return 0<e.length?Number(e):null}return this.value}}]),i}(),TextCrudField=function(){_inherits(i,CrudField);var a=_createSuper(i);function i(e,t,n){return _classCallCheck(this,i),a.call(this,e,t,n)}return _createClass(i,[{key:"_buildDisplayView",value:function(){this.element.innerHTML=this.value}},{key:"_buildEditView",value:function(){this.element.innerHTML='<input type="text" class="form-control m-0" placeholder="'.concat(this.columnDesc.name,'" value="').concat(this.value,'" style="background-image:linear-gradient(0deg,#1e99d6 2px,rgba(0,150,136,0) 0),linear-gradient(0deg,rgba(0,0,0,.26) 1px,transparent 0) !important;width:auto !important;">')}},{key:"_checkValidators",value:function(e,t){return!(null!=t.regex&&!new RegExp(t.regex).test(e)||null!=t.minLength&&e.length<t.minLength||null!=t.maxLength&&e.length>t.maxLength)}},{key:"_checkField",value:function(e){return"string"==typeof e}},{key:"defaultValue",get:function(){return""}},{key:"newValue",get:function(){return this.edit?this.element.getElementsByTagName("input")[0].value:this.value}}]),i}(),SelectCrudField=function(){_inherits(i,CrudField);var a=_createSuper(i);function i(e,t,n){return _classCallCheck(this,i),a.call(this,e,t,n)}return _createClass(i,[{key:"_buildDisplayView",value:function(){this.element.innerHTML=this.value}},{key:"_buildEditView",value:function(){var e,t=this.value,n='<select class="custom-select">',a=_createForOfIteratorHelper(this.columnDesc.options.values);try{for(a.s();!(e=a.n()).done;){var i=e.value;n=n.concat('<option value="'.concat(i,'" ').concat(i===t?"selected":"",">").concat(i,"</option>"))}}catch(e){a.e(e)}finally{a.f()}n=n.concat("</select>"),this.element.innerHTML=n}},{key:"_checkValidators",value:function(){return!0}},{key:"_checkField",value:function(e){return this.columnDesc.options.values.includes(e)}},{key:"defaultValue",get:function(){return""}},{key:"newValue",get:function(){return this.edit?this.element.getElementsByTagName("select")[0].value:this.value}}]),i}(),SelectChipsCrudField=function(){_inherits(o,CrudField);var a=_createSuper(o);function o(e,t,n){return _classCallCheck(this,o),a.call(this,e,t,n)}return _createClass(o,null,[{key:"createSelectChips",value:function(e){var t=createElement('<span style="font-size:0.9rem;" class="crudjs-chips badge badge-pill badge-secondary mt-1 mr-1 pb-2 pt-2">'.concat(e,'<span class="crudjs-remove-chips-btn bg-light rounded-circle pl-1 pr-1 text-secondary ml-1" aria-hidden="true"><i class="fas fa-times" aria-hidden="true"></i></span></span>'));return t.getElementsByClassName("crudjs-remove-chips-btn")[0].onclick=function(){var e=this.parentNode,t=document.createElement("option");t.value=e.textContent,t.textContent=t.value,e.parentNode.getElementsByTagName("select")[0].appendChild(t),e.remove()},t}}]),_createClass(o,[{key:"_buildDisplayView",value:function(){var e,t=_createForOfIteratorHelper(this.value);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.element.innerHTML=this.element.innerHTML.concat('<span style="font-size:0.9rem;" class="badge badge-pill badge-secondary mt-1 mr-1 pb-2 pt-2">'.concat(n,"</span>"))}}catch(e){t.e(e)}finally{t.f()}}},{key:"_buildEditView",value:function(){var t=this.value,e=this.columnDesc.options.values.filter(function(e){return!t.includes(e)}),n=document.createElement("select");n.setAttribute("style","width:auto !important;"),n.setAttribute("class","custom-select mr-2"),n.appendChild(createElement("<option>".concat(this.crud.text("field.selectChips.select"),"</option>")));var a,i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){var l=a.value;n.appendChild(createElement('<option value="'.concat(l,'">').concat(l,"</option>")))}}catch(e){i.e(e)}finally{i.f()}n.onchange=function(){var e=o.createSelectChips(this.value);this.parentNode.appendChild(e),this.options[this.selectedIndex].remove(),this.selectedIndex=0},this.element.appendChild(n);var r,s=_createForOfIteratorHelper(t);try{for(s.s();!(r=s.n()).done;){var u=r.value;this.element.appendChild(o.createSelectChips(u))}}catch(e){s.e(e)}finally{s.f()}}},{key:"_checkValidators",value:function(e,t){return!(null!=t.minSelect&&e.length<t.minSelect||null!=t.maxSelect&&e.length>t.maxSelect)}},{key:"_checkField",value:function(e){var t=this;return Array.isArray(e)&&e.every(function(e){return t.columnDesc.options.values.includes(e)})}},{key:"defaultValue",get:function(){return[]}},{key:"newValue",get:function(){if(this.edit){var e,t=[],n=_createForOfIteratorHelper(this.element.getElementsByClassName("crudjs-chips"));try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.textContent)}}catch(e){n.e(e)}finally{n.f()}return t}return this.value}}]),o}(),CrudFieldFactory=function(){function t(){if(_classCallCheck(this,t),this.__cls={int:IntCrudField,text:TextCrudField,select:SelectCrudField,"select-chips":SelectChipsCrudField},this.__customCls={},"undefined"!=typeof CUSTOM_FIELDS&&null!==CUSTOM_FIELDS)for(var e in CUSTOM_FIELDS)CUSTOM_FIELDS.hasOwnProperty(e)&&(this.__customCls[e]=CUSTOM_FIELDS[e])}return _createClass(t,null,[{key:"getInstance",value:function(){return this._instance||(this._instance=new this),this._instance}}]),_createClass(t,[{key:"create",value:function(e,t,n,a){if(null!=this.__customCls[e]){var i=this.__customCls[e];return new CrudFieldDecorator(new i(t,n,a))}if(null==this.__cls[e])throw new Error("Unknown type: ".concat(e,"."));return new this.__cls[e](t,n,a)}}]),t}(),LINE_STATE=Object.freeze({NEW:"N",MODIFIED:"M",DELETED:"D",SAVED:"S"}),CrudLine=function(){function r(e,t,n){if(_classCallCheck(this,r),(this instanceof r?this.constructor:void 0)===r)throw new TypeError("Cannot construct CrudLine instance directly.");this._crudTable=e,this._element=document.createElement("tr"),this._element.className=null!=n?n:"",this._columns=this._crudTable.crud.getColumns(),this._values=null!=t?r.formatValues(t):r.createEmptyValues(this._columns.length);var a=CrudFieldFactory.getInstance();this._fields=[];for(var i=0;i<this._values.length;i++){var l=a.create(this._columns[i].type,this._values[i],this._columns[i],this._crudTable.crud);this._fields.push(l)}}return _createClass(r,null,[{key:"formatValues",value:function(e){return null==e.status&&(e.status=LINE_STATE.NEW),null==e.oldValue&&(e.status==LINE_STATE.NEW?e.oldValue=new Array(e.length):e.oldValue=_toConsumableArray(e)),e}},{key:"createEmptyValues",value:function(e){var t=new Array(e);return r.formatValues(t)}}]),_createClass(r,[{key:"isNew",value:function(){return this.status==LINE_STATE.NEW}},{key:"isModified",value:function(){return this.status==LINE_STATE.MODIFIED}},{key:"isDeleted",value:function(){return this.status==LINE_STATE.DELETED}},{key:"isSaved",value:function(){return this.status==LINE_STATE.SAVED}},{key:"goNew",value:function(){this.status=LINE_STATE.NEW}},{key:"goModified",value:function(){this.status=LINE_STATE.MODIFIED}},{key:"goDeleted",value:function(){this.status=LINE_STATE.DELETED}},{key:"goSaved",value:function(){this.status=LINE_STATE.SAVED}},{key:"hide",value:function(){_hide(this.element)}},{key:"delete",value:function(){this.crudTable.deleteCrudLine(this)}},{key:"update",value:function(){for(var e=0;e<this.values.length;e++)this.fields[e].value=this.values[e],this.fields[e].update()}},{key:"_reset",value:function(){this.values=r.createEmptyValues(this.values.length),this.update()}},{key:"_prepareShow",value:function(){resetElementHTML(this.element)}},{key:"_addColumn",value:function(e){this.element.appendChild(e)}},{key:"_addEmptyColumn",value:function(){var e=document.createElement("th");e.setAttribute("scope","row"),this.element.appendChild(e)}},{key:"_attachOnClickEvent",value:function(e,t){var n=this;e.onclick=function(){n[t]()}}},{key:"show",value:function(){throw new Error("Method not implemented.")}},{key:"crudTable",get:function(){return this._crudTable}},{key:"element",get:function(){return this._element}},{key:"columns",get:function(){return this._columns}},{key:"values",get:function(){return this._values},set:function(e){e.length==this.values.length&&(this._values=e)}},{key:"fields",get:function(){return this._fields}},{key:"status",get:function(){return this._values.status},set:function(e){this._values.status=e}}]),r}(),EditCrudLine=function(){_inherits(a,CrudLine);var n=_createSuper(a);function a(e,t){return _classCallCheck(this,a),n.call(this,e,t,"crudjs-edit-line")}return _createClass(a,[{key:"show",value:function(){this.showDisplayView()}},{key:"showDisplayView",value:function(){this._prepareShow(),this.__addNumberColumn();var e,t=_createForOfIteratorHelper(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.showDisplayView(),this._addColumn(n.element)}}catch(e){t.e(e)}finally{t.f()}this.crudTable.crud.isEditable()&&this.__addActionsColumn()}},{key:"showEditView",value:function(){if(this.crudTable.crud.isEditable()){this._prepareShow(),this.__addNumberColumn();var e,t=_createForOfIteratorHelper(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.showEditView(),this._addColumn(n.element)}}catch(e){t.e(e)}finally{t.f()}this.__addEditActionsColumn()}}},{key:"__addNumberColumn",value:function(){var e=document.createElement("th");e.setAttribute("scope","row"),e.className="crudjs-line-number align-middle text-center",this.element.appendChild(e)}},{key:"__addActionsColumn",value:function(){var e=this.crudTable.crud,t=document.createElement("td");t.className="align-middle text-right",t.innerHTML='\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-edit-btn btn btn-raised btn-info mb-1 rounded" title="'.concat(e.text("line.btn.edit"),'"><i class="fas fa-pencil-alt"></i></button>\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-delete-btn btn btn-raised btn-danger mb-1 rounded" data-toggle="modal" data-target="#').concat(this.crudTable.deleteModalId,'" title="').concat(e.text("line.btn.delete"),'"><i class="fas fa-trash"></i></button>\n        '),this._attachOnClickEvent(t.getElementsByClassName("crudjs-edit-btn")[0],"editEvent"),this._attachOnClickEvent(t.getElementsByClassName("crudjs-delete-btn")[0],"deleteEvent"),this.element.appendChild(t)}},{key:"__addEditActionsColumn",value:function(){var e=this.crudTable.crud,t=document.createElement("td");t.className="align-middle text-right",t.innerHTML='\n            <button type="button" style="width:45px;" class="crudjs-validate-btn btn btn-raised btn-success mb-1 rounded" title="'.concat(e.text("line.btn.validate"),'"><i class="fas fa-sm fa-check"></i></button>\n            <button type="button" style="width:45px;" class="crudjs-cancel-btn btn btn-raised btn-danger mb-1 rounded" title="').concat(e.text("line.btn.cancel"),'"><i class="fas fa-times"></i></button>\n        '),this._attachOnClickEvent(t.getElementsByClassName("crudjs-validate-btn")[0],"validateEditEvent"),this._attachOnClickEvent(t.getElementsByClassName("crudjs-cancel-btn")[0],"cancelEditEvent"),this.element.appendChild(t)}},{key:"editEvent",value:function(){this.showEditView(),this.crudTable.updateLineNumbers(),this.crudTable.disableButtons()}},{key:"deleteEvent",value:function(){var e=this;this.crudTable.deleteModal.getElementsByClassName("crudjs-modal-valid")[0].onclick=function(){e.isModified()||e.isSaved()?(e.goDeleted(),e.hide()):e.isNew()&&e.delete(),e.crudTable.updateLineNumbers(),e.crudTable.enableButtons()}}},{key:"validateEditEvent",value:function(){for(var e=[],t=0;t<this.values.length;t++)if(!this.fields[t].isValid()){var n=this.fields[t].helpText;e.push("".concat(this.crudTable.crud.text("line.messages.invalidColumn")," '").concat(this.fields[t].columnDesc.name,"'").concat(0<n.length?" − ".concat(n):""))}if(null!=e&&0<e.length){var a,i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){var l=a.value;this.crudTable.crud.addMessage("warning",this.crudTable.crud.text("basic.warning"),l,1e4)}}catch(e){i.e(e)}finally{i.f()}}else{for(var r=0;r<this.values.length;r++)this.values[r]=this.fields[r].validate();this.isSaved()&&this.goModified(),this.showDisplayView(),this.crudTable.updateLineNumbers(),this.crudTable.enableButtons()}}},{key:"cancelEditEvent",value:function(){this.showDisplayView(),this.crudTable.updateLineNumbers(),this.crudTable.enableButtons()}}]),a}(),AddCrudLine=function(){_inherits(a,CrudLine);var n=_createSuper(a);function a(e){var t;if(_classCallCheck(this,a),!(t=n.call(this,e,null,"crudjs-add-line")).crudTable.crud.isEditable())throw new Error("Cannot use AddCrudLine if CRUD is not editable.");return t}return _createClass(a,[{key:"show",value:function(){this._prepareShow(),null!=this.crudTable.crud.getOptions().examples?this.__addExamplesToggleColumn():this._addEmptyColumn();var e,t=_createForOfIteratorHelper(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.showEditView(),this._addColumn(n.element)}}catch(e){t.e(e)}finally{t.f()}this.__addActionsColumn()}},{key:"__addExamplesToggleColumn",value:function(){var e=document.createElement("th");e.setAttribute("scope","row"),e.className="align-middle text-center",e.innerHTML='<i title="'.concat(this.crudTable.crud.text("line.btn.example.toggler"),'" class="help-toggler fas fa-exclamation-circle fa-lg text-info" style="cursor: pointer;"></i>'),this._attachOnClickEvent(e.getElementsByClassName("help-toggler")[0],"helpToggleEvent"),this.element.appendChild(e)}},{key:"__addActionsColumn",value:function(){var e=this.crudTable.crud,t=document.createElement("td");t.className="align-middle text-right",t.innerHTML='\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-add-btn btn btn-raised btn-secondary mb-1 rounded" title="'.concat(e.text("line.btn.add"),'"><i class="fas fa-plus"></i></button>\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-reset-btn btn btn-raised btn-danger mb-1 rounded" title="').concat(e.text("line.btn.addCancel"),'"><i class="fas fa-undo"></i></button>\n        '),this._attachOnClickEvent(t.getElementsByClassName("crudjs-add-btn")[0],"addEvent"),this._attachOnClickEvent(t.getElementsByClassName("crudjs-reset-btn")[0],"resetEvent"),this.element.appendChild(t)}},{key:"helpToggleEvent",value:function(){this.crudTable.helpToggleEvent()}},{key:"resetEvent",value:function(){var e,t=_createForOfIteratorHelper(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.value=n.defaultValue,n.update()}}catch(e){t.e(e)}finally{t.f()}}},{key:"addEvent",value:function(){for(var e=[],t=0;t<this.values.length;t++)if(!this.fields[t].isValid()){var n=this.fields[t].helpText;e.push("".concat(this.crudTable.crud.text("line.messages.invalidColumn")," '").concat(this.fields[t].columnDesc.name,"'").concat(0<n.length?" − ".concat(n):""))}if(null!=e&&0<e.length){var a,i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){var l=a.value;this.crudTable.crud.addMessage("warning",this.crudTable.crud.text("basic.warning"),l,1e4)}}catch(e){i.e(e)}finally{i.f()}}else{for(var r=0;r<this.values.length;r++)this.values[r]=this.fields[r].validate();this.crudTable.appendNewEditCrudLine(new EditCrudLine(this.crudTable,this.values)),this._reset(),this.crudTable.updateLineNumbers()}}}]),a}(),ExampleCrudLine=function(){_inherits(i,CrudLine);var a=_createSuper(i);function i(e,t){var n;if(_classCallCheck(this,i),(n=a.call(this,e,t,"crudjs-example-line")).element.style.backgroundColor="rgba(253, 108, 158, 0.25)",!n.crudTable.crud.isEditable())throw new Error("Cannot use ExampleCrudLine if CRUD is not editable.");return n}return _createClass(i,[{key:"show",value:function(){_hide(this.element),this._prepareShow(),this.__addExampleTagColumn();var e,t=_createForOfIteratorHelper(this.fields);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.showDisplayView(),this._addColumn(n.element)}}catch(e){t.e(e)}finally{t.f()}this.__addActionsColumn()}},{key:"__addExampleTagColumn",value:function(){var e=document.createElement("th");e.setAttribute("scope","row"),e.className="align-middle text-center",e.innerHTML='<i class="fas fa-tags text-secondary"></i>',this.element.appendChild(e)}},{key:"__addActionsColumn",value:function(){var e=this.crudTable.crud,t=document.createElement("td");t.className="align-middle text-right",t.innerHTML='\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-example-copy-btn btn btn-raised btn-info mb-1 rounded" title="'.concat(e.text("line.btn.example.copy"),'"><i class="fas fa-copy"></i></button>\n            <button type="button" style="width:45px;" class="crudjs-action-btn crudjs-example-hide-btn btn btn-raised btn-danger mb-1 rounded pl-0 pr-0" title="').concat(e.text("line.btn.example.hide"),'"><i class="fas fa-eye-slash"></i></button>\n        '),this._attachOnClickEvent(t.getElementsByClassName("crudjs-example-copy-btn")[0],"copyEvent"),this._attachOnClickEvent(t.getElementsByClassName("crudjs-example-hide-btn")[0],"hideEvent"),this.element.appendChild(t)}},{key:"copyEvent",value:function(){this.crudTable.copyIntoAdd(this.values)}},{key:"hideEvent",value:function(){--this.crudTable.examples.numberShown<=0&&(this.crudTable.examples.show=!1),_hide(this.element)}}]),i}(),CrudTable=function(){function t(e){_classCallCheck(this,t),this._crud=e,this._horizontalScroll=!1,this._examples={show:!1,number:0,numberShown:0},this._lines=[],this._element=createElement('<div class="table-responsive"></div>'),this._element.innerHTML='\n        <table class="table">\n          <thead class="thead-light">\n          </thead>\n          <tbody>\n          </tbody>\n        </table>\n        ',this._thead=this._element.getElementsByTagName("thead")[0],this._tbody=this._element.getElementsByTagName("tbody")[0],this._deleteModalMessage=this._crud.text("table.modal.delete.message"),this._deleteModalId="crudjs-modal-".concat(++t.ID),this._deleteModal=this.createModal()}return _createClass(t,[{key:"render",value:function(){this._resetTable(),this._renderHead(),this._renderLines(),this._renderModal(),this.updateLineNumbers(),this._addEvents()}},{key:"_resetTable",value:function(){resetElementHTML(this._thead),resetElementHTML(this._tbody)}},{key:"_renderHead",value:function(){this._thead.innerHTML='<tr><th scope="col"><strong>#</strong></th></tr>';var e,t=_createForOfIteratorHelper(this._crud.getColumns());try{for(t.s();!(e=t.n()).done;){var n=e.value,a=document.createElement("th");a.setAttribute("scope","col"),a.innerHTML="<strong>".concat(n.name,"</strong>"),this._thead.children[0].appendChild(a)}}catch(e){t.e(e)}finally{t.f()}if(this._crud.isEditable()){var i=document.createElement("th");i.setAttribute("scope","col"),i.className="text-right pr-3",i.innerHTML="<strong>".concat(this._crud.text("table.column.actionName"),"</strong>"),this._thead.children[0].appendChild(i)}}},{key:"_renderLines",value:function(){if(this._crud.isEditable()){var e=this._crud.getOptions();if(null!=e.examples)for(var t=0;t<e.examples.length;t++)this._examples.number++,this._appendCrudLine(new ExampleCrudLine(this,e.examples[t]));this._appendCrudLine(new AddCrudLine(this))}for(var n=this._crud.getValues(),a=0;a<n.length;a++)this._appendCrudLine(new EditCrudLine(this,n[a]))}},{key:"_renderModal",value:function(){var e=this._crud.getOptions();null!=e.deleteMessage&&(this.deleteModalMessage=e._deleteMessage)}},{key:"_addEvents",value:function(){var t=this;this._element.onmousedown=function(){t._horizontalScroll=this.clientWidth<this.children[0].clientWidth},this._element.onmouseup=function(){t._horizontalScroll=!1},this._element.addEventListener("wheel",function(e){"wheel"==e.type&&t._horizontalScroll&&(this.scrollLeft-=-50*((e.deltaY||-e.wheelDelta||e.detail)>>10||1),e.preventDefault())})}},{key:"updateLineNumbers",value:function(){var e,t=1,n=_createForOfIteratorHelper(this._element.getElementsByClassName("crudjs-line-number"));try{for(n.s();!(e=n.n()).done;){var a=e.value;isHidden(a.parentNode)||(a.textContent=t++)}}catch(e){n.e(e)}finally{n.f()}}},{key:"helpToggleEvent",value:function(){if(this._examples.show=!this._examples.show,this._examples.show){var e,t=_createForOfIteratorHelper(this._element.getElementsByClassName("crudjs-example-line"));try{for(t.s();!(e=t.n()).done;){show(e.value)}}catch(e){t.e(e)}finally{t.f()}this._examples.numberShown=this._examples.number}else{var n,a=_createForOfIteratorHelper(this._element.getElementsByClassName("crudjs-example-line"));try{for(a.s();!(n=a.n()).done;){_hide(n.value)}}catch(e){a.e(e)}finally{a.f()}this._examples.numberShown=0}}},{key:"copyIntoAdd",value:function(e){for(var t=0;t<this._lines.length;t++)"AddCrudLine"==this._lines[t].constructor.name&&(this._lines[t].values=e,this._lines[t].update())}},{key:"_appendCrudLine",value:function(e){this._lines.push(e),this._tbody.appendChild(e.element),e.show()}},{key:"deleteCrudLine",value:function(e){e.element.remove();var t=this._crud.getValues(),n=t.indexOf(e.values),a=this._lines.indexOf(e);-1!=n&&t.splice(n,1),-1!=a&&this._lines.splice(a,1)}},{key:"appendNewEditCrudLine",value:function(e){this._crud.getValues().push(e.values);var t=this._tbody.getElementsByClassName("crudjs-edit-line");if(0<t.length){for(var n=0;n<this._lines.length;n++)if("EditCrudLine"==this._lines[n].constructor.name){this._lines.splice(n,0,e);break}this._tbody.insertBefore(e.element,t[0])}else this._lines.push(e),this._tbody.appendChild(e.element);e.show()}},{key:"disableButtons",value:function(){var e=this._crud.getAttr("saveButton");null!=e&&(e.disabled=!0);var t,n=_createForOfIteratorHelper(this._element.getElementsByClassName("crudjs-action-btn"));try{for(n.s();!(t=n.n()).done;){t.value.disabled=!0}}catch(e){n.e(e)}finally{n.f()}}},{key:"enableButtons",value:function(){var e=this._crud.getAttr("saveButton");null!=e&&(e.disabled=!1);var t,n=_createForOfIteratorHelper(this._element.getElementsByClassName("crudjs-action-btn"));try{for(n.s();!(t=n.n()).done;){t.value.disabled=!1}}catch(e){n.e(e)}finally{n.f()}}},{key:"createModal",value:function(){var e=createElement('\n        <div class="modal fade" id="'.concat(this._deleteModalId,'" tabindex="-1" role="dialog" aria-hidden="true">\n          <div class="modal-dialog" role="document">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h5 class="modal-title">').concat(this._crud.text("table.modal.delete.title"),'</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n              <div class="modal-body">\n                <div class="delete-message">\n                    ').concat(this._deleteModalMessage,'\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button" class="btn btn-secondary mr-1" data-dismiss="modal">').concat(this._crud.text("basic.no"),'</button>\n                <button type="button" class="btn btn-raised btn-info crudjs-modal-valid" data-dismiss="modal">').concat(this._crud.text("basic.yes"),"</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        "));return document.body.appendChild(e),e}},{key:"element",get:function(){return this._element}},{key:"crud",get:function(){return this._crud}},{key:"lines",get:function(){return this._lines},set:function(e){this._lines=e}},{key:"deleteModal",get:function(){return this._deleteModal}},{key:"deleteModalId",get:function(){return this._deleteModalId}},{key:"deleteModalMessage",get:function(){return this._deleteModalMessage},set:function(e){if(this._deleteModalMessage=e,null!=this._deleteModal){var t=this._deleteModal.getElementsByClassName("delete-message");0<t.length&&(t[0].textContent=this._deleteModalMessage)}}},{key:"horizontalScroll",get:function(){return this._horizontalScroll},set:function(e){this._horizontalScroll=e}},{key:"examples",get:function(){return this._examples}}]),t}();CrudTable.ID=0;var CrudRequest=function(){function a(e,t,n){_classCallCheck(this,a),this.crud=e,this.url=t,this.addMessageFunc=n}return _createClass(a,[{key:"get",value:function(t,n){fetch(this.url,{method:"GET"}).then(function(e){return e.json()}).then(function(e){e.values.forEach(function(e){e.oldValue=_toConsumableArray(e),e.status="S"}),t(e)}).catch(function(e){n(e)})}},{key:"send",value:function(t){var n=this,e=this.collectData(t);if(e.needSave){var a=!0,i={"Content-Type":"application/json"};"undefined"!=typeof CSRF&&null!==CSRF&&(i["X-CSRFToken"]=CSRF),fetch(n.url,{method:"POST",headers:i,body:n.makeUpdateJSON(e)}).then(function(e){return e.json()}).then(function(e){e.actions.forEach(function(e){"result"in e?a=n.handle(e,t)&&a:(a=!1,n.addMessageFunc("danger",n.crud.text("basic.error"),n.crud.text("request.badResponse"),5e3))}),a&&n.addMessageFunc("success",n.crud.text("basic.ok"),n.crud.text("request.okResponse"),5e3)}).catch(function(e){console.error(e)})}else n.addMessageFunc("info",n.crud.text("basic.info"),n.crud.text("request.alreadySaved"),2e3)}},{key:"handle",value:function(a,i){var l=this,r=!0;switch(a.request){case"NEW":a.result.forEach(function(e,t){if("ERROR"===e[0])l.addMessageFunc("warning",l.crud.text("basic.error"),"".concat(l.crud.text("request.addImpossible")," '").concat(a.new_values[t].join(", "),"' − ").concat(e[1]),15e3),r=!1;else{var n=i.find(function(e){return e.join("&")===a.new_values[t].join("&")});n.status="S",n.oldValue=a.new_values[t]}});break;case"MODIFIED":a.result.forEach(function(e,t){if("ERROR"===e[0])l.addMessageFunc("warning",l.crud.text("basic.error"),"".concat(l.crud.text("request.modifyImpossible")," '").concat(a.old_values[t].join(", "),"' / '").concat(a.new_values[t].join(", "),"' − ").concat(e[1]),15e3),r=!1;else{var n=i.find(function(e){return e.join("&")===a.new_values[t].join("&")});n.status="S",n.oldValue=a.new_values[t]}});break;case"DELETED":var s=[];a.result.forEach(function(e,t){if("ERROR"===e[0])l.addMessageFunc("warning",l.crud.text("basic.error"),"".concat(l.crud.text("request.deleteImpossible")," '").concat(a.old_values[t].join(", "),"' − ").concat(e[1]),15e3),r=!1;else{var n=i.findIndex(function(e){return e.oldValue.join("&")===a.old_values[t].join("&")});s.push(n)}});for(var e=s.length-1;0<=e;--e)i.splice(s[e],1)}return r}},{key:"collectData",value:function(e){var t={newNewValues:[],modifyOldValues:[],modifyNewValues:[],deletedOldValues:[],needSave:void 0};return e.forEach(function(e){switch(e.status){case"N":t.newNewValues.push(e);break;case"M":t.modifyOldValues.push(e.oldValue),t.modifyNewValues.push(e);break;case"D":t.deletedOldValues.push(e.oldValue)}}),t.needSave=0<t.newNewValues.length||0<t.modifyOldValues.length||0<t.deletedOldValues.length,t}},{key:"makeUpdateJSON",value:function(e){return JSON.stringify({actions:[{request:"NEW",new_values:e.newNewValues},{request:"MODIFIED",old_values:e.modifyOldValues,new_values:e.modifyNewValues},{request:"DELETED",old_values:e.deletedOldValues}]})}}]),a}(),CrudComponent=function(){_inherits(n,_wrapNativeSuper(HTMLElement));var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).init(),e}return _createClass(n,null,[{key:"observedAttributes",get:function(){return["lang","url","save-button"]}}]),_createClass(n,[{key:"init",value:function(){this.attr={};var e=!0,t=this.getAttribute("lang"),n=this.getAttribute("url"),a=this.getAttribute("save-button"),i=this.getAttribute("filter"),l=this.getAttribute("filters");if(this.resetDisplay(),null!=t){var r=t.slice(0,2);langExist(r)?(this.setAttr("langOrigin","ATTRIBUTE"),this.setAttr("lang",r)):e=!1}else if(null!=document.documentElement.lang&&2<=document.documentElement.lang.length){var s=document.documentElement.lang.slice(0,2);langExist(s)?(this.setAttr("langOrigin","PAGE"),this.setAttr("lang",s)):e=!1}else if(window.navigator){var u=null!=window.navigator.language&&2<=window.navigator.language.length?window.navigator.language.slice(0,2):null!=window.navigator.userLanguage&&2<=window.navigator.userLanguage.length?window.navigator.userLanguage.slice(0,2):null;null!=u&&langExist(u)?(this.setAttr("langOrigin","NAVIGATOR"),this.setAttr("lang",u)):(this.setAttr("langOrigin","DEFAULT"),this.setAttr("lang",DEFAULT_LANG))}else this.setAttr("langOrigin","DEFAULT"),this.setAttr("lang",DEFAULT_LANG);if(null!=n&&e?this.setAttr("url",n):e=!1,null!=a&&e){var o=document.getElementById(a);null!=o?this.setAttr("saveButton",o):e=!1}if(null!=i||null!=l){if(this.setAttr("filters",[]),null!=i){var c=document.getElementById(i);null!=c?this.getAttr("filters").push(c):e=!1}if(null!=l){var d=document.getElementsByClassName(l);if(null!=d&&0<d.length){var h,f=_createForOfIteratorHelper(d);try{for(f.s();!(h=f.n()).done;){var m=h.value;this.getAttr("filters").push(m)}}catch(e){f.e(e)}finally{f.f()}}else e=!1}function p(){var e,t=_createForOfIteratorHelper(_.getAttr("filters"));try{for(t.s();!(e=t.n()).done;){var n=e.value;n!=this&&(n.value=this.value)}}catch(e){t.e(e)}finally{t.f()}_.filter(this.value)}function v(){_.filter(this.value)}var y,_=this,g=_createForOfIteratorHelper(this.getAttr("filters"));try{for(g.s();!(y=g.n()).done;){var b=y.value;b.value="",b.oninput=p,b.onfocus=v}}catch(e){g.e(e)}finally{g.f()}}if(this.setAttr("loadElement",createElement('<h1 class="text-info"><i class="fas fa-spinner fa-pulse"></i></h1>')),this.setAttr("errorElement",createElement('\n            <div class="alert alert-warning" role="alert">\n                <strong><span class="crudjs-error-t">'.concat(this.text("basic.error").toUpperCase(),'</span>:</strong>\n                <span class="crudjs-error-m">Unknown</span>\n            </div>\n            '))),this.setAttr("messagesElement",createElement('<div style="position:fixed;right:10px;bottom:10px;z-index:100;pointer-events:none"></div>')),e){if(this.setAttr("data",null),this.setAttr("request",new CrudRequest(this,this.getUrl(),this.getAddMessageWrapper())),this.setAttr("table",new CrudTable(this)),document.body.appendChild(this.getAttr("messagesElement")),this.isEditable()){var E=this;this.getAttr("saveButton").onclick=function(){E.save()},window.onbeforeunload=function(e){var t=e||window.event;if(null!=E.getData()&&E.getAttr("request").collectData(E.getValues()).needSave)return t.returnValue=!1}}this.load()}else this.displayError(this.text("basic.error"),this.text("component.configurationError"))}},{key:"setAttr",value:function(e,t){this.attr[e]=t}},{key:"getAttr",value:function(e){return this.attr[e]}},{key:"getData",value:function(){return this.getAttr("data")}},{key:"getValues",value:function(){return this.getData().values}},{key:"getColumns",value:function(){return this.getData().columns}},{key:"getOptions",value:function(){return null!=this.getData().options?this.getData().options:{}}},{key:"getLang",value:function(){return this.getAttr("lang")}},{key:"getUrl",value:function(){return this.getAttr("url")}},{key:"isEditable",value:function(){return null!=this.getAttr("saveButton")}},{key:"setChild",value:function(e){this.resetDisplay(),this.appendChild(e)}},{key:"load",value:function(){this.displayLoading(),this.getAttr("request").get(this.getDataLoadedWrapper(),this.getWrongUrlWrapper())}},{key:"wrongUrl",value:function(e){this.displayError(this.text("basic.error"),"".concat(this.text("component.urlError")," ").concat(e))}},{key:"dataLoaded",value:function(e){this.setAttr("data",e),this.displayTable()}},{key:"save",value:function(){this.getData()&&this.getAttr("request").send(this.getValues())}},{key:"text",value:function(e){return _text(this.getLang(),e)}},{key:"filter",value:function(e){var t,n=_createForOfIteratorHelper(this.getElementsByClassName("crudjs-edit-line"));try{for(n.s();!(t=n.n()).done;){var a=t.value;a.textContent.toLowerCase().includes(e.toLowerCase())?isHidden(a)&&show(a):isHidden(a)||_hide(a)}}catch(e){n.e(e)}finally{n.f()}this.getAttr("table").updateLineNumbers()}},{key:"addMessage",value:function(e,t,n,a){null==a&&(a=2e4);var i=createElement('\n            <div style="box-shadow:2px 2px 7px black;display:inline-block;float:right;clear:right;pointer-events:auto;" class="alert alert-'.concat(e,' alert-dismissible fade show" role="alert">\n              <strong class="text-uppercase">').concat(t,":</strong> ").concat(n,'\n              <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            </div>\n        '));this.getAttr("messagesElement").appendChild(i),setTimeout(function(){null!=i.parentNode&&i.getElementsByClassName("close")[0].click()},a)}},{key:"resetDisplay",value:function(){resetElementHTML(this)}},{key:"displayLoading",value:function(){this.setChild(this.getAttr("loadElement"))}},{key:"displayError",value:function(e,t){var n,a=this.getAttr("errorElement"),i=_createForOfIteratorHelper(a.getElementsByClassName("crudjs-error-t"));try{for(i.s();!(n=i.n()).done;){n.value.textContent=e}}catch(e){i.e(e)}finally{i.f()}var l,r=_createForOfIteratorHelper(a.getElementsByClassName("crudjs-error-m"));try{for(r.s();!(l=r.n()).done;){l.value.textContent=t}}catch(e){r.e(e)}finally{r.f()}this.setChild(a)}},{key:"displayTable",value:function(){var e=this.getAttr("table");e.render(),this.setChild(e.element)}},{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"adoptedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,n){null!=this.getData()&&null!=n&&this.init()}},{key:"getAddMessageWrapper",value:function(){var i=this;return function(e,t,n,a){i.addMessage(e,t,n,a)}}},{key:"getDataLoadedWrapper",value:function(){var t=this;return function(e){t.dataLoaded(e)}}},{key:"getWrongUrlWrapper",value:function(){var t=this;return function(e){t.wrongUrl(e)}}}]),n}();customElements.define("crud-js",CrudComponent);
